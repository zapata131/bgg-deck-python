{% macro render_card(game, options={}) %}
<div class="card-container font-sans text-[#3A3A3A]">
  <!-- Top Half: Image -->
  <div class="h-[55%] w-full relative bg-[#F5F0E9] overflow-hidden">
    {% if game.image %}
    <img src="{{ game.image }}" alt="{{ game.name }}" class="w-full h-full object-cover">
    {% else %}
    <div class="w-full h-full flex items-center justify-center text-gray-500 text-xs">No Image</div>
    {% endif %}

    <!-- Gradient Overlay -->
    <div class="absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/80 to-transparent"></div>

    <!-- Title & Year -->
    <div class="absolute bottom-2 left-3 right-3 text-white">
      <h2 class="font-bold text-lg leading-tight line-clamp-2 drop-shadow-md">{{ game.name }}</h2>
      {% if game.yearpublished %}
      <p class="text-xs opacity-90 font-medium drop-shadow-sm">{{ game.yearpublished }}</p>
      {% endif %}
    </div>
  </div>

  <!-- Stats Bar -->
  <div class="h-[12%] bg-[#8367C7] text-white flex items-center justify-between px-4 text-xs font-bold shadow-sm z-10">
    <!-- Players -->
    {% if options.get('include_players', true) %}
    <div class="flex items-center gap-1 info-players">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-80">
        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
        <circle cx="9" cy="7" r="4" />
        <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
      </svg>
      <span>
        {% if game.minplayers == game.maxplayers %}
        {{ game.minplayers }}
        {% else %}
        {{ game.minplayers }}-{{ game.maxplayers }}
        {% endif %}
      </span>
    </div>
    {% endif %}

    <!-- Time -->
    {% if options.get('include_time', true) %}
    <div class="flex items-center gap-1 info-time">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-80">
        <circle cx="12" cy="12" r="10" />
        <polyline points="12 6 12 12 16 14" />
      </svg>
      <span>{{ game.playingtime }}m</span>
    </div>
    {% endif %}

    <!-- Weight -->
    {% if options.get('include_weight', true) %}
    <div class="flex items-center gap-1 info-weight">
      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="opacity-80">
        <path d="m6.5 6.5 11 11" />
        <path d="m21 21-1-1" />
        <path d="m3 3 1 1" />
        <path d="m18 22 4-4" />
        <path d="m2 6 4-4" />
        <path d="m3 10 7-7" />
        <path d="m14 21 7-7" />
      </svg>
      <span>{{ "%.1f"|format(game.averageweight|default(0)|float) }}</span>
    </div>
    {% endif %}
  </div>

  <!-- Bottom Half: Description -->
  <div class="flex-1 p-3 flex flex-col gap-2 bg-[#F5F0E9]">
    <p class="text-[10px] leading-snug line-clamp-6 flex-1 opacity-90 text-justify">
      {{ game.description | default("No description available.") }}
    </p>

    <!-- Credits -->
    <div class="mt-auto pt-2 border-t border-black/10 flex flex-col gap-0.5 text-[9px] opacity-70">
      {% if game.designers %}
      <div class="flex gap-1 truncate">
        <span class="font-bold">Design:</span>
        <span class="truncate">{{ game.designers|join(", ") }}</span>
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endmacro %}